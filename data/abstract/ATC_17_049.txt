Intel SGX hardware enables applications to protect themselves from potentially-malicious OSes or hyper- visors. In cloud computing and other systems, many users and applications could benefit from SGX. Unfortu- nately, current applications will not work out-of-the-box on SGX. Although previous work has shown that a li- brary OS can execute unmodified applications on SGX, a belief has developed that a library OS will be ruinous for performance and TCB size, making application code modification an implicit prerequisite to adopting SGX.
This paper demonstrates that these concerns are exag- gerated, and that a fully-featured library OS can rapidly deploy unmodified applications on SGX with overheads comparable to applications modified to use “shim” lay- ers. We present a port of Graphene to SGX, as well as a number of improvements to make the security bene- fits of SGX more usable, such as integrity support for dynamically-loaded libraries, and secure multi-process support. Graphene-SGX supports a wide range of un- modified applications, including Apache, GCC, and the R interpreter. The performance overheads of Graphene- SGX range from matching a Linux process to less than 2× in most single-process cases; these overheads are largely attributable to current SGX hardware or missed opportunities to optimize Graphene internals, and are not necessarily fundamental to leaving the application un- modified. Graphene-SGX is open-source and has been used concurrently by other groups for SGX research.
