
Representative paths analysis generalizes and improves MPI critical
path analysis. To improve diagnostic insight, we sample the distribution of program path costs and retain k representative paths. We
describe scalable algorithms to collect representative paths and path
profiles. To collect full paths efficiently, we introduce path pruning
that reduces permanent space requirements from a trace (proportional to ranks and MPI events) to path length (the minimum). To
make space requirements independent of ranks and events — even
a small constant in practice — we profile program paths. Avoiding
the limitations of prior path profiling approaches, we dynamically
discover tasks and attribute costs in high resolution. We evaluate
our algorithms on seven applications scaled up to 7000 MPI ranks.
Full program paths use as little as 0.01% the permanent space of
current methods; profiles require a nearly constant 100-1000 KB.
Execution overhead is under 5% when synchronization intervals
are sufficiently large (a few milliseconds).
